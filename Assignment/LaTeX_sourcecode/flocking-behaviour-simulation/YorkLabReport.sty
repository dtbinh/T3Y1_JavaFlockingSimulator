\RequirePackage{fancyhdr,xcolor,calc,tocloft}

\ProvidesPackage{YorkLabReport}[2014/12/07 v1.0 LaTeX package for York EE department lab reports.]

\usepackage{palatino}%
\usepackage{graphics}%
\usepackage{epsfig}%
\usepackage{amsfonts,amsmath,amstext,amssymb,amsthm,amsbsy}%
\usepackage{minted}
\usepackage[colorlinks=true]{hyperref}
%Added packages
\usepackage{framed, float, paralist, subcaption}
\usepackage[compact]{titlesec}
%Unused but really useful packages
%\usepackage{multicols} %MultiColumn: \begin{multicols}{2} ... \end{multicols}


\setlength{\parindent}{0pt}%
\setlength{\parskip}{0.5em}

\pagestyle{fancyplain}%

\renewcommand{\headrulewidth}{0.4pt}%
\renewcommand{\footrulewidth}{0pt}%

% Margin Settings
\setlength\marginparwidth{8mm}%
\setlength\marginparsep{4mm}%
\setlength\marginparpush{0pt}%

% Page Width Settings
\setlength\hoffset{-1in}%
\setlength\oddsidemargin{30mm}%
\setlength\evensidemargin{20mm}%
\setlength\textwidth{160mm}%
\setlength\headwidth{\textwidth}

% Page Height Settings
\setlength\voffset{-1in}%
\setlength\topmargin{10mm}%
\setlength\textheight{250mm}%

% Size settings Other
\titlespacing{\section}{0pt}{2ex}{1ex}
\titlespacing{\subsection}{0pt}{1ex}{0ex}
\titlespacing{\subsubsection}{0pt}{0.5ex}{0ex}



\newcommand{\@subtitle}{\relax}
\newcommand{\subtitle}[1]{\renewcommand{\@subtitle}{#1}}

\lhead[\fancyplain{}{\textbf{\thepage}~ \@title~ }]{\fancyplain{}{\@author }}%
\rhead[\fancyplain{}{\@author }]{\fancyplain{}{\@title~ ~ \textbf{\thepage}}}%


\newcommand{\@maketitle}{%
    \begin{figure}[h]
        \begin{center}%
            \includegraphics{images/dept_logo.pdf}%
        \end{center}%
    \end{figure}%
    \begin{center}%
        \vspace{45mm}%
        {%
            \Huge%
            \textbf{\@title}%
            \par%
            \vspace{4em}
            \textbf{\@subtitle}%
        }%
        \vfill%
        {%
            \Large%
            \textbf{\@author}%
        }%
        \par%
        \vspace{10mm}%
        {%
            \Large%
            \@date
        }%
    \end{center}%
    \vspace{10mm}%
    \thispagestyle{empty}
}

\renewcommand{\maketitle}{
    \cleardoublepage%
    \@maketitle%
    \newpage%
}


\newlength{\boxparwidth}%
\setlength{\boxparwidth}{\textwidth}%
\addtolength{\boxparwidth}{-2em}

\newcommand{\bp@color}{}
\newenvironment{boxedpar}[2]%
{%
    \renewcommand{\bp@color}{#1}%
    \par%
    \vspace{1em}%
    \noindent%
    \begin{lrbox}{\@tempboxa}%
        \hspace{0.5em}%
        \begin{minipage}{\linewidth-2\fboxsep-1em}%
            \setlength{\parskip}{0.5em}
            \vspace{0.8em}%
            {\par  #2}%
}%
{%
            \vspace{1em}%
        \end{minipage}%
    \end{lrbox}%
    \fcolorbox{black}{\bp@color}{\usebox{\@tempboxa}\hspace{0.4em}}%
    \vspace{1em}%
}%

\definecolor{light_grey}{gray}{0.9}